
<ul id="messages"></ul>

<form action="/" method="POST" id="chatForm" style="background: #fff; padding: 3px; position: fixed; bottom: 0; width: 100%; border-color: #000; border-top-style: solid; border-top-width: 1px;">
    <input type="text" id="txt" autocomplete="off" autofocus="on" placeholder="type message here..." style="border-style: solid; border-width: 1px; padding: 10px; width: 85%; margin-right: .5%;">
    <button style="width: 9%; background: gray; border: none; padding: 10px; margin-left: 2%;">send</button>
</form>


<script   src="https://code.jquery.com/jquery-3.5.1.min.js"   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
<script src="../socket.io/socket.io.js"></script>
<script>
    var socket = io.connect('http://localhost:3000');
    socket.on('news', data => {
        var elemDiv = document.createElement('div');
        elemDiv.innerText = data.description;
        document.body.appendChild(elemDiv);
    });

    
    $('form').submit(function(e){
                e.preventDefault(); // prevents page reloading
                socket.emit('chat_message', $('#txt').val());
                $('#txt').val('');
                return false;
            });


    

    socket.on('chat_message', function(msg){
        $('#messages').append($('<li>').html(msg));
    });

    socket.on('newUser', function(username) {
        $('#messages').append($('<li>').html(username));
    });
    

    var username = prompt('Plese tell me your name');
    var room = prompt('Type the room you want to join');
    socket.emit('username', username);
    socket.emit("joinRoom", room);


</script>

