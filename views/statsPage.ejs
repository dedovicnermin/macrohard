


<div class="container__stats">
    <canvas id="project-pie-chart-1" width="400" height="150"> </canvas>
    <canvas id="project-pie-chart-2" width="400" height="150" style="margin-top: 175px;"> </canvas>
    <canvas id="project-pie-chart-3" width="400" height="150" style="margin-top: 175px;"> </canvas>
</div>
<div id="test"></div>

<% obj.forEach(element => { %>
  <p> <%- element.USER %>  </p>
<% }) %>


<!-- 
  pie chart for projects
    -tasks completed/not completed
    -completed on time / completed not on time
    - tasks not done / tasks overdue
  
 -->

 


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script   src="https://code.jquery.com/jquery-3.5.1.min.js"   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
<script>
    $.ajaxSetup({async: false});
    var pie1, pie2, pie3;
    $.ajax({
        url: "http://localhost:3000/user/1/1/stats/getstats",
        dataType: "JSON",
        success: function(data) {
            pie1 = data.p1;
            pie2 = data.p2;
            pie3 = data.p3;
        }
    });



new Chart(document.getElementById("project-pie-chart-1"), {
    type: 'pie',
    data: {
      labels: ["Tasks Done", "Tasks Not Done"],
      datasets: [{
        label: "Stats",
        backgroundColor: ["#00FF00","#FF0000"],
        data: pie1
      }]
    },
    options: {
      title: {
        display: true,
        text: "All Tasks: Done / Tasks Not Done"
      }
    }
});

new Chart(document.getElementById("project-pie-chart-2"), {
    type: 'pie',
    data: {
      labels: ["On Time", "Overdue"],
      datasets: [{
        label: "Stats",
        backgroundColor: ["#00FF00","#FF0000"],
        data: pie2
      }]
    },
    options: {
      title: {
        display: true,
        text: "Tasks Completed: On Time / Overdue"
      }
    }
});


new Chart(document.getElementById("project-pie-chart-3"), {
    type: 'pie',
    data: {
      labels: ["Not Overdue", "Overdue"],
      datasets: [{
        label: "Stats",
        backgroundColor: ["#00FF00","#FF0000"],
        data: pie3
      }]
    },
    options: {
      title: {
        display: true,
        text: "Tasks Not Completed: Not Overdue / Overdue"
      }
    }
});




document.getElementById("test").innerHTML = window.location.pathname;

</script>

<!--  -->
<!--  -->
<!--  -->
